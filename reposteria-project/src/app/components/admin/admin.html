<div class="admin-page">
    <!-- Header del Admin -->
    <header class="admin-header">
        <nav class="navbar">
            <div class="container">
                <div class="brand-container">
                    <div class="logo-placeholder">
                        <img src="assets/logo-empresa-encanto.png" alt="Logo Encanto" class="logo-image">
                    </div>
                    <span class="brand-name">Encanto Admin</span>
                </div>
                <div class="admin-nav">
                    <span class="welcome-text">Bienvenido, {{ authService.getUser()?.name || 'Admin' }}</span>
                    <button class="btn btn-logout" (click)="logout()">
                        Cerrar Sesión
                    </button>
                    <a class="btn btn-back" routerLink="/">
                        Volver al Sitio
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Contenido Principal -->
    <main class="admin-main">
        <div class="container">

            <!-- NUEVO: BOTÓN PARA CREAR ADMIN -->
            <div class="d-flex justify-content-between align-items-center mb-5 flex-wrap gap-3">
                <h2 class="mb-0 text-primary">
                    Panel de Administración
                </h2>
                <a routerLink="/admin/create-admin" class="btn btn-success btn-lg">
                    Crear Nuevo Administrador
                </a>
            </div>

            <!-- Formulario de Producto -->
            <section class="product-form-section">
                <div class="section-header">
                    <h2>{{ isEditing ? 'Editar Producto' : 'Agregar Nuevo Producto' }}</h2>
                    <button *ngIf="isEditing" class="btn btn-cancel" (click)="resetForm()">
                        Nuevo Producto
                    </button>
                </div>
                <div class="form-card">
                    <form (ngSubmit)="submitProduct()" #productForm="ngForm">
                        <!-- TODO TU CÓDIGO ACTUAL DEL FORMULARIO DE PRODUCTOS SIGUE AQUÍ -->
                        <div class="form-row">
                            <!-- Imagen del Producto -->
                            <div class="form-group image-group">
                                <label for="productImage">Imagen del Producto</label>
                                <div class="image-upload-container">
                                    <div class="image-preview" [class.has-image]="imagePreview">
                                        <img *ngIf="imagePreview" [src]="imagePreview" alt="Vista previa"
                                            class="preview-image">
                                        <div *ngIf="!imagePreview" class="upload-placeholder">
                                            Haz clic para subir imagen
                                        </div>
                                        <input type="file" id="productImage" (change)="onImageSelected($event)"
                                            accept="image/*" class="file-input">
                                    </div>
                                    <small class="help-text">Formatos: JPG, PNG, GIF. Máx: 10MB</small>
                                </div>
                            </div>
                            <!-- Información Básica -->
                            <div class="form-fields">
                                <!-- ... todo tu código actual ... -->
                                <div class="form-group">
                                    <label for="productName">Nombre del Producto *</label>
                                    <input type="text" id="productName" [(ngModel)]="currentProduct.name" name="name"
                                        required placeholder="Ej: Pastel de Chocolate">
                                </div>
                                <!-- ... el resto del formulario queda exactamente igual ... -->
                            </div>
                        </div>
                        <!-- Descripción, botones, etc. -->
                        <div class="form-group">
                            <label for="productDescription">Descripción *</label>
                            <textarea id="productDescription" [(ngModel)]="currentProduct.description"
                                name="description" required rows="4"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary" [disabled]="isLoading">
                                <span *ngIf="!isLoading">
                                    {{ isEditing ? 'Actualizar Producto' : 'Crear Producto' }}
                                </span>
                                <span *ngIf="isLoading">
                                    {{ isEditing ? 'Actualizando...' : 'Creando...' }}
                                </span>
                            </button>
                            <button type="button" class="btn btn-secondary" (click)="resetForm()"
                                [disabled]="isLoading">
                                Cancelar
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Lista de Productos (todo igual) -->
            <section class="products-section">
                <!-- ... todo tu código actual de la lista ... -->
            </section>

        </div>
    </main>
</div>